{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 39, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/wacha/Downloads/New%20folder%20%283%29/here%20we%20go/SchoolB/buitysch/components/menu/menu.tsx"],"sourcesContent":["\"use client\";\r\nimport React, { useState, useRef, useEffect } from \"react\";\r\nimport Link from \"next/link\";\r\nimport { gsap } from \"gsap\";\r\nimport { useGSAP } from \"@gsap/react\";\r\n\r\nconst menuLinks = [\r\n  { label: \"Home\", path: \"/\" },\r\n  { label: \"About\", path: \"/about\" },\r\n  { label: \"Accommodation\", path: \"/accommodation\" },\r\n  { label: \"Gallery\", path: \"/gallery\" },\r\n  { label: \"Courses\", path: \"/courses\" },\r\n];\r\n\r\nfunction Menu() {\r\n  const container = useRef<HTMLDivElement>(null);\r\n  const [isMenuOpen, setIsMenuOpen] = useState(false);\r\n  const tl = useRef<gsap.core.Timeline | null>(null);\r\n  const overlayRef = useRef<HTMLDivElement>(null);\r\n  const linkHoldersRef = useRef<(HTMLDivElement | null)[]>([]);\r\n\r\n  // Store menu state in ref to avoid stale closures\r\n  const menuStateRef = useRef(isMenuOpen);\r\n  menuStateRef.current = isMenuOpen;\r\n\r\n  const toggleMenu = () => {\r\n    setIsMenuOpen(!isMenuOpen);\r\n  };\r\n\r\n  const colors = {\r\n    green: \"#c5fb45\",\r\n  };\r\n\r\n  // Initialize animation timeline\r\n  useGSAP(() => {\r\n    // Clear any existing timeline\r\n    if (tl.current) {\r\n      tl.current.kill();\r\n    }\r\n\r\n    // Set initial state\r\n    gsap.set(linkHoldersRef.current, { y: 75, opacity: 0 });\r\n    if (overlayRef.current) {\r\n      gsap.set(overlayRef.current, { \r\n        clipPath: \"polygon(0% 0%, 100% 0%, 100% 0%, 0% 0%)\",\r\n        opacity: 0,\r\n        visibility: \"hidden\"\r\n      });\r\n    }\r\n\r\n    // Create new timeline\r\n    tl.current = gsap.timeline({ paused: true })\r\n      .to(overlayRef.current, {\r\n        visibility: \"visible\",\r\n        duration: 0.01\r\n      })\r\n      .to(overlayRef.current, {\r\n        opacity: 1,\r\n        duration: 0.3,\r\n        ease: \"power2.inOut\"\r\n      })\r\n      .to(overlayRef.current, {\r\n        clipPath: \"polygon(0% 0%, 100% 0%, 100% 100%, 0% 100%)\",\r\n        duration: 1,\r\n        ease: \"power4.inOut\"\r\n      })\r\n      .to(linkHoldersRef.current, {\r\n        y: 0,\r\n        opacity: 1,\r\n        duration: 1,\r\n        stagger: 0.1,\r\n        ease: \"power4.out\"\r\n      }, \"-=0.8\");\r\n\r\n    // Cleanup function\r\n    return () => {\r\n      tl.current?.kill();\r\n    };\r\n  }, { scope: container });\r\n\r\n  // Control animation based on menu state\r\n  useEffect(() => {\r\n    if (!tl.current) return;\r\n\r\n    if (isMenuOpen) {\r\n      // Reset to initial state before playing opening animation\r\n      gsap.set(linkHoldersRef.current, { y: 75, opacity: 0 });\r\n      if (overlayRef.current) {\r\n        gsap.set(overlayRef.current, { \r\n          clipPath: \"polygon(0% 0%, 100% 0%, 100% 0%, 0% 0%)\",\r\n          opacity: 0,\r\n          visibility: \"hidden\"\r\n        });\r\n      }\r\n      tl.current.play(0);\r\n    } else {\r\n      // Custom closing animation with fade and bounce\r\n      gsap.to(linkHoldersRef.current, {\r\n        y: 75,\r\n        opacity: 0,\r\n        duration: 0.6,\r\n        stagger: 0.1,\r\n        ease: \"bounce.out\",\r\n        onComplete: () => {\r\n          if (overlayRef.current) {\r\n            gsap.to(overlayRef.current, {\r\n              clipPath: \"polygon(0% 0%, 100% 0%, 100% 0%, 0% 0%)\",\r\n              opacity: 0,\r\n              duration: 0.3,\r\n              ease: \"power2.inOut\",\r\n              onComplete: () => {\r\n                gsap.set(overlayRef.current, { visibility: \"hidden\" });\r\n              }\r\n            });\r\n          }\r\n        }\r\n      });\r\n    }\r\n  }, [isMenuOpen]);\r\n\r\n  // Handle page navigation\r\n  useEffect(() => {\r\n    const handleRouteChange = () => {\r\n      if (menuStateRef.current) {\r\n        setIsMenuOpen(false);\r\n      }\r\n    };\r\n\r\n    // Close menu when navigating\r\n    window.addEventListener('beforeunload', handleRouteChange);\r\n    return () => {\r\n      window.removeEventListener('beforeunload', handleRouteChange);\r\n    };\r\n  }, []);\r\n\r\n  return (\r\n    <div ref={container}>\r\n      {/* Top Menu Bar */}\r\n      <div className=\"menu-bar fixed top-0 left-0 h-8 w-full p-[2em] flex items-center justify-between z-10 bg-black\">\r\n      <div className=\"flex items-center justify-between w-full px-6 py-5 mr-9 \">\r\n  {/* Keep your existing premium logo design exactly as is */}\r\n  <Link href=\"/\" className=\"group relative overflow-hidden\">\r\n    <div className=\"flex items-baseline\">\r\n      <span className=\"text-3xl font-bold text-[#c5fb45] mr-1\">K</span>\r\n      <span className=\"text-xl font-medium text-white tracking-[0.3em] uppercase group-hover:text-[#c5fb45] transition-all duration-500\">\r\n        unal&apos;s Academy\r\n      </span>\r\n      <div className=\"absolute bottom-0 left-0 h-px w-full bg-[#c5fb45] transform -translate-x-full group-hover:translate-x-0 transition-transform duration-500 ease-[cubic-bezier(0.22,1,0.36,1)]\"></div>\r\n    </div>\r\n  </Link>\r\n\r\n  {/* Improved Menu Button */}\r\n  <button\r\n    onClick={toggleMenu}\r\n    className=\"relative flex items-center gap-3 group\"\r\n    aria-label={isMenuOpen ? \"Close menu\" : \"Open menu\"}\r\n  >\r\n    {/* Text label - always visible but with hover effect */}\r\n    <span className={`text-sm font-medium text-white tracking-wider transition-all duration-300 mr-5 ${\r\n      isMenuOpen ? 'text-[#c5fb45]' : 'group-hover:text-[#c5fb45]'\r\n    }`}>\r\n      {isMenuOpen ? \"CLOSE\" : \"MENU\"}\r\n    </span>\r\n    \r\n    {/* Animated icon container - properly aligned */}\r\n    <div className=\"relative w-6 h-5 flex flex-col justify-center\">\r\n      <span className={`absolute h-[1px] w-6 bg-white transition-all duration-300 ${\r\n        isMenuOpen ? 'rotate-45 top-1/2' : 'top-0'\r\n      }`}></span>\r\n      <span className={`absolute h-[1px] w-6 bg-white transition-all duration-300 ${\r\n        isMenuOpen ? '-rotate-45 top-1/2' : 'bottom-0'\r\n      }`}></span>\r\n    </div>\r\n  </button>\r\n</div>\r\n      </div>\r\n\r\n      {/* Menu Overlay */}\r\n      <div\r\n        ref={overlayRef}\r\n        className=\"menu-overlay fixed top-0 left-0 w-full h-full p-[2em] flex flex-col z-20 \"\r\n        style={{ background: colors.green }}\r\n      >\r\n        {/* Overlay Header */}\r\n       <div className=\"menu-overlay-bar flex justify-between items-center px-6 py-5 \">\r\n  {/* Enhanced Logo */}\r\n  <Link href=\"/\" className=\"group relative\">\r\n  <span className=\"flex items-baseline\">\r\n    {/* Stylized initial */}\r\n    <span className=\"text-3xl font-extrabold text-[#151e01]\">K</span>\r\n    \r\n    {/* Rest of the name with sophisticated styling */}\r\n    <span className=\"text-3xl  text-black tracking-tight  relative\">\r\n      <span className=\"relative z-10\">unal&apos;s Academy</span>\r\n      \r\n      {/* Animated underline */}\r\n      <span className=\"absolute bottom-0 left-0 h-0.5 w-full bg-[#587d00] transform origin-left scale-x-0 group-hover:scale-x-100 transition-transform duration-500 ease-[cubic-bezier(0.22,1,0.36,1)]\"></span>\r\n    </span>\r\n  </span>\r\n</Link>\r\n      \r\n\r\n  {/* Improved Close Button */}\r\n  <button\r\n    onClick={toggleMenu}\r\n    className=\"relative flex items-center gap-3 group mr-8  \"\r\n    aria-label=\"Close menu\"\r\n  >\r\n    {/* Text label */}\r\n    <span className=\"text-xl font-900   text-black tracking-wider transition-all duration-300 group-hover:text-[#22261b]\">\r\n      CLOSE\r\n    </span>\r\n    \r\n    {/* Close icon (X) */}\r\n    <div className=\"relative w-6 h-6 flex items-center justify-center\">\r\n      <span className=\"absolute h-[1px] w-6 bg-black transition-all duration-300 group-hover:bg-[#222618] rotate-45\"></span>\r\n      <span className=\"absolute h-[1px] w-6 bg-black transition-all duration-300 group-hover:bg-[#171910] -rotate-45\"></span>\r\n    </div>\r\n  </button>\r\n</div>\r\n\r\n        {/* Menu Content */}\r\n        <div className=\"menu-copy flex flex-col justify-between\">\r\n          {/* Links */}\r\n          <div className=\"menu-links flex flex-col  space-y-6 ml-[48vh] mb-[18vh] \">\r\n            {menuLinks.map((link, index) => (\r\n              <div className=\"menu-link-items\" key={index}>\r\n                <div\r\n                  ref={(el) => {\r\n                    if (el) linkHoldersRef.current[index] = el;\r\n                  }}\r\n                  className=\"menu-link-item-holder relative \"\r\n                  onClick={toggleMenu}\r\n                >\r\n                  <Link\r\n                    href={link.path}\r\n                    className=\"text-black text-4xl md:text-6xl font-bold hover:text-green-700 transition-colors block py-2\"\r\n                  >\r\n                    {link.label}\r\n                  </Link>\r\n                </div>\r\n              </div>\r\n            ))}\r\n          </div>\r\n\r\n          {/* Footer Info */}\r\n          <div className=\"menu-info flex justify-between gap-8 mt-16 mb-8\">\r\n            <div className=\"menu-info-col flex flex-col justify-end space-y-4 text-white\">\r\n              <a className=\"hover:text-green-800 transition-colors\" href=\"#\">\r\n                X ↗\r\n              </a>\r\n              <a className=\"hover:text-green-800 transition-colors\" href=\"#\">\r\n                Instagram ↗\r\n              </a>\r\n              <a className=\"hover:text-green-800 transition-colors\" href=\"#\">\r\n                Linkedin ↗\r\n              </a>\r\n              <a className=\"hover:text-green-800 transition-colors\" href=\"#\">\r\n                Facebook ↗\r\n              </a>\r\n            </div>\r\n            <div className=\"menu-info-col space-y-4 text-white\">\r\n              <p>info@kunal.com</p>\r\n              <p>45599 9966 5566</p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Preview */}\r\n        <div className=\"menu-preview text-black text-sm mt-8\">\r\n          <p>Preview</p>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Menu;"],"names":[],"mappings":"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","debugId":null}}]
}